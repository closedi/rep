(this["webpackJsonpmonte-hall"]=this["webpackJsonpmonte-hall"]||[]).push([[0],{17:function(e,o,t){},18:function(e,o,t){"use strict";t.r(o);var n=t(0),s=t(1),i=t.n(s),r=t(6),a=t.n(r),c=(t(17),t(4)),l=t(7),u=t(8),d=t(10),h=t(9),m=t(2),j=t.n(m);var f=function(e){var o=Object(s.useState)(j.a.door),t=Object(c.a)(o,2),i=t[0],r=t[1];return Object(s.useEffect)((function(){r(i=function(){i=!0===e.isChosen&&"none"===e.gameResult?j.a.door_chosen:!0===e.isChosen&&"none"!==e.gameResult?e.isTrue?j.a.door_opened_good:j.a.door_opened_bad:"open"===e.isOpened&&e.isTrue?j.a.door_opened_good:"open"!==e.isOpened||e.isTrue?j.a.door:j.a.door_opened_bad;return i}())}),[[e.isChosen,e.isOpened]]),Object(n.jsxs)("div",{className:i,onClick:e.onClick,children:["\u0414\u0432\u0435\u0440\u044c ",e.id+1]})};function _(e){for(var o,t,n=e.length;n;o=parseInt(Math.random()*n),t=e[--n],e[n]=e[o],e[o]=t);return e.map((function(e){return!e}))}var p=function(e){Object(d.a)(t,e);var o=Object(h.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=o.call(this,e)).state={isChosen:[!1,!1,!1],trueArr:_([0,1,2]),moveConfirmed:!1,isOpened:[!1,!1,!1],openCount:0,gameResult:"none",roundsCount:1},n}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,o,t){this.state.openCount!==o.openCount&&this.checkWinner()}},{key:"handleClick",value:function(e){var o=this.state.isChosen.slice().fill(!1);o[e]=!this.state.isChosen[e];this.setState({isChosen:o,moveConfirmed:o.includes(!0)})}},{key:"confirmActionOnKey",value:function(e){" "===e.key&&this.confirmAction()}},{key:"confirmAction",value:function(){if("none"===this.state.gameResult){var e=this.state.isChosen.slice();this.setState({isChosen:e,moveConfirmed:e.includes(!0)}),this.openFalseDoor()}else this.clearRound()}},{key:"openFalseDoor",value:function(){if(this.state.moveConfirmed){var e=this.state.isOpened.slice(),o=0;if(e.includes("open"))for(var t in e)!this.state.isChosen[t]&&o<2&&(e[t]="open",o++);else for(var n in e)if(!this.state.isChosen[n]&&!this.state.trueArr[n]&&o<2){e[n]="open",o++;break}this.setState({isOpened:e,openCount:o})}}},{key:"checkWinner",value:function(){var e=this.state.trueArr.slice(),o=this.state.isOpened.slice(),t=this.state.openCount,n=this.state.isChosen.slice(),s=this.state.gameResult;for(var i in o){if("open"===o[i]&&!0===e[i]){s="lose";break}t>1&&(s="win",n=Array(3).fill(!1))}t>1&&(o=Array(3).fill("open")),this.setState({gameResult:s,isOpened:o,isChosen:n})}},{key:"clearRound",value:function(){var e=this.state.roundsCount;e++,this.setState({isChosen:[!1,!1,!1],trueArr:_([0,1,2]),moveConfirmed:!1,isOpened:[!1,!1,!1],openCount:0,gameResult:"none",roundsCount:e})}},{key:"renderDoor",value:function(e){var o=this;return Object(n.jsx)(f,{id:e,isTrue:this.state.trueArr[e],isChosen:this.state.isChosen[e],onClick:function(){return o.handleClick(e)},isOpened:this.state.isOpened[e],gameResult:this.state.gameResult})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{tabIndex:"-1",onKeyDown:function(o){return e.confirmActionOnKey(o)},children:[Object(n.jsxs)("h1",{align:"center",children:["Round ",this.state.roundsCount," ","none"===this.state.gameResult?"":this.state.gameResult.toUpperCase()]}),Object(n.jsxs)("section",{className:j.a.main,children:[Object(n.jsxs)("div",{className:j.a.doorField,children:[this.renderDoor(0),this.renderDoor(1),this.renderDoor(2),Object(n.jsx)("button",{className:j.a.doorButton,onClick:function(){return e.confirmAction()},children:"none"!==this.state.gameResult?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0438\u0433\u0440\u0430":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(n.jsx)("button",{onClick:function(){return e.clearRound()},children:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434"})]}),Object(n.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:' Make your choice and Press the "Continue" button (or "Space" instead).'})]})]})}}]),t}(i.a.Component),b=t(11),O=t(3),C=t.n(O);function v(e){var o=Object(b.a)({},e),t=o.name,s=o.onClick,i=o.autoFocus,r=o.className;return Object(n.jsx)("button",{autoFocus:i,className:r,onClick:s,children:t})}function x(e){var o=Object(s.useState)({closed:!1,style:C.a.frame}),t=Object(c.a)(o,2),i=t[0],r=t[1];function a(){r(i={closed:!i.closed,style:i.closed?C.a.frame:C.a.frame_closed})}return Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{name:"HowToPlay",className:C.a.button_open,onClick:a}),Object(n.jsx)("div",{tabIndex:"-1",className:i.style,onKeyDown:function(e){return function(e){"Escape"===e.key&&(console.log(e.key),a())}(e)},children:Object(n.jsxs)("div",{className:C.a.wrapper,children:[Object(n.jsx)("h1",{children:"Monty-Hall door's game"}),Object(n.jsx)("h3",{children:"How to play"}),Object(n.jsx)(v,{name:"Esc",className:C.a.button_close,autoFocus:"autoFocus",onClick:a}),Object(n.jsxs)("p",{children:["There is one ",Object(n.jsx)("em",{children:"Treasure map"})," behind one of this doors! Another two contains bags, full of trash.",Object(n.jsx)("br",{}),"You should find this map."]}),Object(n.jsx)("div",{className:C.a.map}),Object(n.jsx)("h3",{children:"Order of moves "}),Object(n.jsxs)("ol",{className:C.a.moveList,children:[Object(n.jsx)("li",{children:"Choose one of the doors and press 'Continue'"}),Object(n.jsx)("li",{children:"Your opponent(computer) make his choice by opening one of the doors with a trash."}),Object(n.jsx)("li",{children:"Now you could choose again. Pick the same door or another."})]})]})})]})}var y=function(){var e=Object(s.useState)(0),o=Object(c.a)(e,2),t=o[0],i=o[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsx)(p,{resultCounter:function(){i(t++),console.log(t)}})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((function(o){var t=o.getCLS,n=o.getFID,s=o.getFCP,i=o.getLCP,r=o.getTTFB;t(e),n(e),s(e),i(e),r(e)}))};a.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),k()},2:function(e,o,t){e.exports={main:"Door_main__RLcZi",doorField:"Door_doorField__3k3G1",doorButton:"Door_doorButton__CrHEq",door:"Door_door__28fVU",door_chosen:"Door_door_chosen__197yw",door_opened_good:"Door_door_opened_good__3Da-J",door_opened_bad:"Door_door_opened_bad__3BA-H",hover:"Door_hover__2UYbk"}},3:function(e,o,t){e.exports={wrapper:"HowToPlay_wrapper__25x0a",moveList:"HowToPlay_moveList__NkNV7",map:"HowToPlay_map__3D52x",frame:"HowToPlay_frame__8A0dt",frame_closed:"HowToPlay_frame_closed__1vGTH",button_close:"HowToPlay_button_close__DIxCy",button_open:"HowToPlay_button_open__29uwq"}}},[[18,1,2]]]);
//# sourceMappingURL=main.5a3c3518.chunk.js.map